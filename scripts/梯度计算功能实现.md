# F统计量梯度计算功能实现

## 修改内容
在 `scripts/计算F统计量.py` 中增加梯度计算功能

## 实现方式
- **方法**：有限差分法（中心差分）
- **公式**：∂F/∂x ≈ (F(x+h) - F(x-h)) / (2h)
- **新增参数**：`--gradient` 启用梯度计算

## 步长设置
- **F0**：√(12×0.001)/(π×duration) - 基于频率分辨率
- **Alpha/Delta**：1e-5 rad - 天空位置小扰动

## 使用示例
```bash
# 基本模式 - 只返回F统计量
source ~/miniconda/etc/profile.d/conda.sh && conda activate pyfstat-dev
python scripts/计算F统计量.py --F0 30.0 --Alpha 1.0 --Delta 1.5

# 梯度模式 - 返回F统计量和三个方向梯度
python scripts/计算F统计量.py --F0 30.0 --Alpha 1.0 --Delta 1.5 --gradient
```

## 输出格式
**基本模式**：
```
5.244527339935303
```

**梯度模式**：
```
4.663309097290039
梯度_F0: -1811131.1297869934
梯度_Alpha: -140.07091522216797
梯度_Delta: 4340.410232543945
```

## 代码特点
- 极简实现，约20行新代码
- 无防御性编程，出错立即报错
- 复用现有ComputeFstat对象
- 梯度对频率最敏感，符合物理预期